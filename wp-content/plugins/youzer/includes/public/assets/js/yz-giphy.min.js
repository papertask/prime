!function(r){"use strict";r(document).ready(function(){var o,s=r(".yz-giphy-submit-search"),l='<div class="yz-giphy-grid-sizer"></div>',y=r(".yz-load-more-giphys"),a=r(".yz-selected-giphy-item"),t={itemSelector:".yz-giphy-item",columnWidth:".yz-giphy-grid-sizer",percentPosition:!0,gutter:10},e=!1;r(".yz-delete-giphy-item").on("click",function(){r(".yz-selected-giphy-item").fadeOut(400,function(){r(this).find("img").remove(),r(this).find("input").val(""),r(".yz-wall-giphy-form .yz-wall-cf-item").fadeIn(200,function(){o=r(".yz-giphy-items-content").masonry(t)})})}),r(document).on("click",".yz-giphy-item img",function(i){if(!0!==e){e=!0;var t=r(this).attr("data-original");r(".yz-wall-giphy-form .yz-wall-cf-item").fadeOut(400,function(){r(".yz-giphy-loading-preview").fadeIn(),a.find("input").val(t);var i=r("<img>").attr({src:t});a.prepend(i),r(i).on("load",function(i){r(".yz-giphy-loading-preview").fadeOut(100,function(){a.fadeIn().css("display","inline-block"),e=!1})})})}}),r(".yz-giphy-submit-search").on("click",function(){var i=r(this).prev(".yz-giphy-search-input").val();y.fadeOut(1),y.attr("data-query",i),y.attr("data-page",2),r(".yz-giphy-items-content").html(l),o=r(".yz-giphy-items-content").masonry(t),""!=i&&(s.addClass("loading"),s.html('<i class="fas fa-spin fa-spinner"></i>'),r.yz_LoadGiphyItems({q:i}))}),r(".yz-giphy-search-input").keypress(function(i){13==i.keyCode&&(i.preventDefault(),s.click())}),r(document).on("click",".yz-load-more-giphys",function(i){y.addClass("loading"),y.html('<i class="fas fa-spinner fa-spin"></i>');var t=parseInt(r(this).attr("data-page")),a={q:r(this).attr("data-query"),offset:t*Yz_Wall.giphy_limit-2};r.yz_LoadGiphyItems(a);r(this).attr("data-page",t+1)}),r.fn.yz_giphy_masonryImagesReveal=function(i,a){var e=this.data("masonry"),n=e.options.itemSelector;return i.hide(),this.append(i),i.imagesLoaded().progress(function(i,t){r(t.img).parents(n).show(1,function(){e.appended(r(this)),1==a&&y.fadeIn(),s.hasClass("loading")&&(s.removeClass("loading"),s.html("Search")),y.hasClass("loading")&&(y.removeClass("loading"),y.html("Load More")),r(".yz-giphy-items-content").animate({scrollTop:r(".yz-giphy-items-content").prop("scrollHeight")},1e3)})}),this},r.yz_LoadGiphyItems=function(i){var a,e,n=r.extend({api_key:"aFFKTuSMjd6j0wwjpFCPXZipQbcnw3vB",limit:Yz_Wall.giphy_limit,fmt:"json"},i),s="";r.ajax({url:"https://api.giphy.com/v1/gifs/search?"+r.param(n),method:"GET",success:function(i){if(0!==i.data.length){for(void 0===n.offset&&r(".yz-giphy-items-content").html(l),a=0;a<n.limit;a++){var t=i.data[a].images;s+='<div class="yz-giphy-item"><img src="'+t.fixed_height.url+'" data-original="'+t.original.url+'"></div>'}e=i.pagination.total_count>n.limit,o.yz_giphy_masonryImagesReveal(r(s),e)}}})}})}(jQuery);